(self.webpackChunkgecdi_mz_caixa=self.webpackChunkgecdi_mz_caixa||[]).push([[9],{53009:function(t,e,n){"use strict";n.r(e),n.d(e,{GecdiModule:function(){return p}});var i=n(38583),o=n(99763),r=n(89530),c=n(37716),s=n(88020),a=n(6405),u=n(82008);let l=(()=>{class t{constructor(t){this.menu=r.U,t.changeMenu().subscribe(t=>this.menu=t)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(s.h))},t.\u0275cmp=c.Xpm({type:t,selectors:[["ngx-gecdi"]],decls:3,vars:1,consts:[[3,"items"]],template:function(t,e){1&t&&(c.TgZ(0,"ngx-one-column-layout"),c._UZ(1,"nb-menu",0),c._UZ(2,"router-outlet"),c.qZA()),2&t&&(c.xp6(1),c.Q6J("items",e.menu))},directives:[a.s,u.mBz,o.lC],styles:[""]}),t})();var d=n(4357),g=n(76622);const h=[{path:"",component:l,children:[{path:"dashboard",canActivate:[d.a],loadChildren:()=>n.e(805).then(n.bind(n,79190)).then(t=>t.DashboardModule)},{path:"push",canActivate:[d.a],loadChildren:()=>n.e(180).then(n.bind(n,59180)).then(t=>t.PushModule)},{path:"atendimento",canActivate:[d.a],loadChildren:()=>n.e(837).then(n.bind(n,34837)).then(t=>t.AtendimentoModule)},{path:"security",loadChildren:()=>n.e(266).then(n.bind(n,40266)).then(t=>t.SecurityModule)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"cadastro-usuarios",component:g.m}];let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[o.Bz.forChild(h)],o.Bz]}),t})();var f=n(10027);let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.ez,Z,u.j5J,f.O]]}),t})()},76622:function(t,e,n){"use strict";n.d(e,{m:function(){return f}});var i=n(92340),o=n(37716),r=n(88020),c=n(88182),s=n(82008),a=n(3679),u=n(38583);function l(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",5),o.NdJ("click",function(){return o.CHM(t),o.oxw().matricula=null}),o._UZ(1,"nb-icon",27),o.qZA()}}function d(t,e){if(1&t&&(o.TgZ(0,"nb-option",28),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.Q6J("value",t.cUsuario),o.xp6(1),o.Oqu(t.nomeExibicao)}}function g(t,e){if(1&t&&(o.TgZ(0,"nb-option",28),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.Q6J("value",t.idRole),o.xp6(1),o.Oqu(t.nome_Role)}}function h(t,e){if(1&t&&(o.TgZ(0,"nb-option",28),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.Q6J("value",t.idRole),o.xp6(1),o.Oqu(t.nome_Role)}}function Z(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"tr",29),o.TgZ(1,"th",30),o.NdJ("click",function(){const e=o.CHM(t).index,n=o.oxw();return n.rowClick(n.s,e)}),o._uU(2),o.qZA(),o.TgZ(3,"td",30),o.NdJ("click",function(){const e=o.CHM(t).index,n=o.oxw();return n.rowClick(n.s,e)}),o._uU(4),o.qZA(),o.TgZ(5,"td",30),o.NdJ("click",function(){const e=o.CHM(t).index,n=o.oxw();return n.rowClick(n.s,e)}),o._uU(6),o.qZA(),o.TgZ(7,"td",30),o.NdJ("click",function(){const e=o.CHM(t).index,n=o.oxw();return n.rowClick(n.s,e)}),o._uU(8),o.qZA(),o.TgZ(9,"td",30),o.NdJ("click",function(){const e=o.CHM(t).index,n=o.oxw();return n.rowClick(n.s,e)}),o.TgZ(10,"nb-select",31,32),o.NdJ("ngModelChange",function(t){return e.$implicit.idRole=t})("selectedChange",function(e){const n=o.CHM(t).$implicit;return o.oxw().ChangeRole(n.idUsuario,e)}),o.YNc(12,h,2,2,"nb-option",14),o.qZA(),o.qZA(),o.TgZ(13,"td",30),o.NdJ("click",function(){const e=o.CHM(t).index,n=o.oxw();return n.rowClick(n.s,e)}),o.TgZ(14,"button",33),o.NdJ("click",function(){const e=o.CHM(t).$implicit;return o.oxw().excluirUsuario(e)}),o._UZ(15,"nb-icon",34),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=e.$implicit,n=o.oxw();o.Q6J("ngClass",n.checkRow(t)+" hand"),o.xp6(2),o.Oqu(null==t?null:t.idUsuario),o.xp6(2),o.Oqu(null==t?null:t.cUsuario),o.xp6(2),o.Oqu(null==t?null:t.nome),o.xp6(2),o.Oqu(null==t?null:t.cgc),o.xp6(2),o.Q6J("ngModel",t.idRole),o.xp6(2),o.Q6J("ngForOf",n.userService.roles)}}let f=(()=>{class t{constructor(t,e,n){this.menuService=t,this.userService=e,this.serviceSticker=n,this.menu=[],this.matricula=null,this.role=6,this.matriculaSol=null,t.changeMenu().subscribe(t=>this.menu=t),this.userService.getRoles().subscribe(t=>this.roles=t),this.usuariosSelecionados=this.userService.getUsers(i.N.itemsPadrao,"")}ngOnInit(){}checkRow(t){}rowClick(t){}Search(t){this.usuariosSelecionados=this.userService.getUsers(i.N.itemsPadrao,t)}excluirUsuario(t){this.userService.deleteUser(t.idUsuario).subscribe(e=>{this.serviceSticker.show(`Usuario ${null==t?void 0:t.cUsuario} (${null==t?void 0:t.nome}) excluido com sucesso`,"",{status:"success",duration:2e3}),this.Search(this.searchText)},e=>{200!=e.status&&(this.serviceSticker.show(`Erro ao excluir ${null==t?void 0:t.cUsuario} (${null==t?void 0:t.nome})`,"",{status:"danger",duration:5e3}),this.Search(this.searchText))})}Cadastrar(){this.userService.postNewUser(this.matricula,this.role).subscribe(t=>{this.serviceSticker.show(`Usuario ${null==t?void 0:t.cUsuario} (${null==t?void 0:t.nome}) incluido com sucesso`,"",{status:"success",duration:2e3}),this.Search(this.matricula)},t=>{200!=t.status&&(this.serviceSticker.show(`Erro ao incluir ${this.matricula} - ${t.message}`,"",{status:"danger",duration:5e3}),this.Search(this.searchText))})}ChangeRole(t,e){this.userService.postChangeRole(t,e).subscribe(t=>{this.serviceSticker.show(`Usuario ${null==t?void 0:t.cUsuario} (${null==t?void 0:t.nome}) alterado para role ${null==t?void 0:t.idRole}`,"",{status:"success",duration:2e3})},t=>{200!=t.status&&this.serviceSticker.show(`Erro ao alterar a role ${this.matricula} - ${t.message}`,"",{status:"danger",duration:5e3})})}findMatricula(t){this.waitMatricula&&clearTimeout(this.waitMatricula),t.length>=7&&(this.waitMatricula=setTimeout(()=>this.userService.getUsersFind(t).subscribe(t=>this.listMatriculas$=t),i.N.intervalToGetAPI)),this.matriculaSol=null}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(r.h),o.Y36(c.K),o.Y36(s.quB))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ngx-cadastro-usuarios"]],decls:71,vars:12,consts:[[1,"row"],[1,"col-md-3","col-lg-3","col-xxxl-3"],[1,"form-group"],["nbInput","","id","searchQuery","placeholder","Busca por matricula ou nome","width","30",3,"ngModel","ngModelChange","keyup.enter"],["q",""],["nbSuffix","","nbButton","","ghost","",3,"click"],["pack","eva",3,"icon"],[1,"col-md-9","col-lg-9","col-xxxl-9"],[1,"col-sm-3"],["for","Matricula",1,"label"],["type","text","nbInput","","fullWidth","","id","matricula","placeholder","Matricula (c999999 ou p999999 ou f999999)",3,"ngModel","nbAutocomplete","ngModelChange"],["nbSuffix","","nbButton","","ghost","",3,"click",4,"ngIf"],["size","large",3,"activeFirst"],["autoMatricula",""],[3,"value",4,"ngFor","ngForOf"],["for","role",1,"label"],["fullWidth","","id","role","name","role",3,"ngModel","ngModelChange"],[1,"col-sm-2"],["for","btnCadastrar",1,"label"],["fullWidth","","nbButton","","id","btnCadastrar",3,"click"],[1,"fas","fa-user"],[1,"col-sm-12"],["icon","person-add-outline","pack","eva",1,"font-2_25rem"],[1,"table"],[1,"row-title"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],["icon","close-outline","pack","eva"],[3,"value"],[3,"ngClass"],["scope","row",1,"no-wrap",3,"click"],["fullWidth","","id","role","name","role",3,"ngModel","ngModelChange","selectedChange"],["SelRole",""],["nbButton","","ghost","",3,"click"],["icon","trash","pack","eva","status","danger"]],template:function(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"nb-card"),o.TgZ(3,"nb-card-header"),o._uU(4," Busca de Usu\xe1rio "),o.qZA(),o.TgZ(5,"nb-card-body"),o.TgZ(6,"div",2),o.TgZ(7,"nb-form-field"),o.TgZ(8,"input",3,4),o.NdJ("ngModelChange",function(t){return e.searchText=t})("keyup.enter",function(){o.CHM(t);const n=o.MAs(9);return e.Search(n.value)}),o.qZA(),o.TgZ(10,"button",5),o.NdJ("click",function(){o.CHM(t);const n=o.MAs(9);return e.Search(n.value)}),o._UZ(11,"nb-icon",6),o.qZA(),o.qZA(),o._UZ(12,"BR"),o._UZ(13,"BR"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",7),o.TgZ(15,"nb-card"),o.TgZ(16,"nb-card-header"),o._uU(17," Cadastro R\xe1pido de Usu\xe1rio "),o.qZA(),o.TgZ(18,"nb-card-body"),o.TgZ(19,"div",0),o.TgZ(20,"div",8),o.TgZ(21,"div",2),o.TgZ(22,"nb-form-field"),o.TgZ(23,"div",2),o.TgZ(24,"label",9),o._uU(25,"Matricula:"),o.qZA(),o.TgZ(26,"nb-form-field"),o.TgZ(27,"input",10),o.NdJ("ngModelChange",function(t){return e.matricula=t})("ngModelChange",function(t){return e.findMatricula(t)}),o.qZA(),o.YNc(28,l,2,0,"button",11),o.qZA(),o.TgZ(29,"nb-autocomplete",12,13),o.YNc(31,d,2,2,"nb-option",14),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(32,"div",8),o.TgZ(33,"div",2),o.TgZ(34,"label",15),o._uU(35,"Role:"),o.qZA(),o.TgZ(36,"nb-select",16),o.NdJ("ngModelChange",function(t){return e.role=t}),o.YNc(37,g,2,2,"nb-option",14),o.qZA(),o.qZA(),o.qZA(),o.TgZ(38,"div",17),o.TgZ(39,"div",2),o.TgZ(40,"label",18),o._uU(41,"\xa0"),o.qZA(),o.TgZ(42,"button",19),o.NdJ("click",function(){return e.Cadastrar()}),o._UZ(43,"i",20),o._uU(44,"\xa0Cadastrar "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(45,"div",0),o.TgZ(46,"div",21),o.TgZ(47,"nb-card"),o.TgZ(48,"nb-card-header"),o.TgZ(49,"h1"),o._UZ(50,"nb-icon",22),o._uU(51," Cadastramento de Usu\xe1rios"),o.qZA(),o.qZA(),o.TgZ(52,"nb-card-body"),o.TgZ(53,"table",23),o.TgZ(54,"thead",24),o.TgZ(55,"tr",24),o.TgZ(56,"td",25),o._uU(57,"ID"),o.qZA(),o.TgZ(58,"td",25),o._uU(59,"Matricula"),o.qZA(),o.TgZ(60,"td",25),o._uU(61,"Nome"),o.qZA(),o.TgZ(62,"td",25),o._uU(63,"CGC"),o.qZA(),o.TgZ(64,"td",25),o._uU(65,"Role"),o.qZA(),o.TgZ(66,"td",25),o._uU(67,"Excluir"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(68,"tbody"),o.YNc(69,Z,16,7,"tr",26),o.ALo(70,"async"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.MAs(30);let n;o.xp6(8),o.Q6J("ngModel",e.searchText),o.xp6(3),o.Q6J("icon","search-outline"),o.xp6(16),o.Q6J("ngModel",e.matricula)("nbAutocomplete",t),o.xp6(1),o.Q6J("ngIf",""!=(null!==(n=e.matricula)&&void 0!==n?n:"")),o.xp6(1),o.Q6J("activeFirst",!0),o.xp6(2),o.Q6J("ngForOf",e.listMatriculas$),o.xp6(5),o.Q6J("ngModel",e.role),o.xp6(1),o.Q6J("ngForOf",e.userService.roles),o.xp6(32),o.Q6J("ngForOf",o.lcZ(70,10,e.usuariosSelecionados))}},directives:[s.Asz,s.ndF,s.yKW,s.jBG,s.h8i,a.Fj,a.JJ,a.On,s.DPz,s.yyc,s.fMN,s.wNd,u.O5,s.Xh,u.sg,s.rs,s.q51,u.mk],pipes:[u.Ov],styles:[".flex[_ngcontent-%COMP%]{display:flex;align-items:center}.mensagem-limite30[_ngcontent-%COMP%]{width:30%}.mensagem-limite10[_ngcontent-%COMP%]{width:10%}.dir[_ngcontent-%COMP%]{text-align:right!important}.row-title[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-weight:700}.hand[_ngcontent-%COMP%]{cursor:pointer}tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background:#f4eeff}tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background:#fff}tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{vertical-align:middle}.font-2_25rem[_ngcontent-%COMP%]{font-size:2.25rem}"]}),t})()},4357:function(t,e,n){"use strict";n.d(e,{a:function(){return s}});var i=n(93342),o=n(37716),r=n(86665),c=n(99763);let s=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.alive=!1}canActivate(){return this.authService.isAuthenticated().pipe((0,i.b)(t=>{t||this.router.navigate(["gecdi/security/login"])}))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(r._o),o.LFG(c.F0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);