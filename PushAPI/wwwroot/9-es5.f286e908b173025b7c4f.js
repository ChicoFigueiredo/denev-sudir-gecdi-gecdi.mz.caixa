!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function t(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}(self.webpackChunkgecdi_mz_caixa=self.webpackChunkgecdi_mz_caixa||[]).push([[9],{53009:function(e,i,o){"use strict";o.r(i),o.d(i,{GecdiModule:function(){return b}});var r,c=o(38583),u=o(99763),a=o(89530),l=o(37716),s=o(88020),d=o(6405),g=o(82008),f=function(){var e=function(){function e(t){var i=this;n(this,e),this.menu=a.U,t.changeMenu().subscribe(function(n){return i.menu=n})}return t(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(n){return new(n||e)(l.Y36(s.h))},e.\u0275cmp=l.Xpm({type:e,selectors:[["ngx-gecdi"]],decls:3,vars:1,consts:[[3,"items"]],template:function(n,e){1&n&&(l.TgZ(0,"ngx-one-column-layout"),l._UZ(1,"nb-menu",0),l._UZ(2,"router-outlet"),l.qZA()),2&n&&(l.xp6(1),l.Q6J("items",e.menu))},directives:[d.s,g.mBz,u.lC],styles:[""]}),e}(),h=o(4357),Z=o(76622),v=[{path:"",component:f,children:[{path:"dashboard",canActivate:[h.a],loadChildren:function(){return o.e(805).then(o.bind(o,79190)).then(function(n){return n.DashboardModule})}},{path:"push",canActivate:[h.a],loadChildren:function(){return o.e(152).then(o.bind(o,92152)).then(function(n){return n.PushModule})}},{path:"atendimento",canActivate:[h.a],loadChildren:function(){return o.e(837).then(o.bind(o,34837)).then(function(n){return n.AtendimentoModule})}},{path:"security",loadChildren:function(){return o.e(266).then(o.bind(o,40266)).then(function(n){return n.SecurityModule})}},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"cadastro-usuarios",component:Z.m}],p=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[u.Bz.forChild(v)],u.Bz]}),e}(),m=o(10027),b=((r=function e(){n(this,e)}).\u0275fac=function(n){return new(n||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({imports:[[c.ez,p,g.j5J,m.O]]}),r)},76622:function(e,i,o){"use strict";o.d(i,{m:function(){return p}});var r=o(92340),c=o(37716),u=o(88020),a=o(88182),l=o(82008),s=o(3679),d=o(38583);function g(n,e){if(1&n){var t=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){return c.CHM(t),c.oxw().matricula=null}),c._UZ(1,"nb-icon",27),c.qZA()}}function f(n,e){if(1&n&&(c.TgZ(0,"nb-option",28),c._uU(1),c.qZA()),2&n){var t=e.$implicit;c.Q6J("value",t.cUsuario),c.xp6(1),c.Oqu(t.nomeExibicao)}}function h(n,e){if(1&n&&(c.TgZ(0,"nb-option",28),c._uU(1),c.qZA()),2&n){var t=e.$implicit;c.Q6J("value",t.idRole),c.xp6(1),c.Oqu(t.nome_Role)}}function Z(n,e){if(1&n&&(c.TgZ(0,"nb-option",28),c._uU(1),c.qZA()),2&n){var t=e.$implicit;c.Q6J("value",t.idRole),c.xp6(1),c.Oqu(t.nome_Role)}}function v(n,e){if(1&n){var t=c.EpF();c.TgZ(0,"tr",29),c.TgZ(1,"th",30),c.NdJ("click",function(){var n=c.CHM(t).index,e=c.oxw();return e.rowClick(e.s,n)}),c._uU(2),c.qZA(),c.TgZ(3,"td",30),c.NdJ("click",function(){var n=c.CHM(t).index,e=c.oxw();return e.rowClick(e.s,n)}),c._uU(4),c.qZA(),c.TgZ(5,"td",30),c.NdJ("click",function(){var n=c.CHM(t).index,e=c.oxw();return e.rowClick(e.s,n)}),c._uU(6),c.qZA(),c.TgZ(7,"td",30),c.NdJ("click",function(){var n=c.CHM(t).index,e=c.oxw();return e.rowClick(e.s,n)}),c._uU(8),c.qZA(),c.TgZ(9,"td",30),c.NdJ("click",function(){var n=c.CHM(t).index,e=c.oxw();return e.rowClick(e.s,n)}),c.TgZ(10,"nb-select",31,32),c.NdJ("ngModelChange",function(n){return e.$implicit.idRole=n})("selectedChange",function(n){var e=c.CHM(t).$implicit;return c.oxw().ChangeRole(e.idUsuario,n)}),c.YNc(12,Z,2,2,"nb-option",14),c.qZA(),c.qZA(),c.TgZ(13,"td",30),c.NdJ("click",function(){var n=c.CHM(t).index,e=c.oxw();return e.rowClick(e.s,n)}),c.TgZ(14,"button",33),c.NdJ("click",function(){var n=c.CHM(t).$implicit;return c.oxw().excluirUsuario(n)}),c._UZ(15,"nb-icon",34),c.qZA(),c.qZA(),c.qZA()}if(2&n){var i=e.$implicit,o=c.oxw();c.Q6J("ngClass",o.checkRow(i)+" hand"),c.xp6(2),c.Oqu(null==i?null:i.idUsuario),c.xp6(2),c.Oqu(null==i?null:i.cUsuario),c.xp6(2),c.Oqu(null==i?null:i.nome),c.xp6(2),c.Oqu(null==i?null:i.cgc),c.xp6(2),c.Q6J("ngModel",i.idRole),c.xp6(2),c.Q6J("ngForOf",o.userService.roles)}}var p=function(){var e=function(){function e(t,i,o){var c=this;n(this,e),this.menuService=t,this.userService=i,this.serviceSticker=o,this.menu=[],this.matricula=null,this.role=6,this.matriculaSol=null,t.changeMenu().subscribe(function(n){return c.menu=n}),this.userService.getRoles().subscribe(function(n){return c.roles=n}),this.usuariosSelecionados=this.userService.getUsers(r.N.itemsPadrao,"")}return t(e,[{key:"ngOnInit",value:function(){}},{key:"checkRow",value:function(n){}},{key:"rowClick",value:function(n){}},{key:"Search",value:function(n){this.usuariosSelecionados=this.userService.getUsers(r.N.itemsPadrao,n)}},{key:"excluirUsuario",value:function(n){var e=this;this.userService.deleteUser(n.idUsuario).subscribe(function(t){e.serviceSticker.show("Usuario ".concat(null==n?void 0:n.cUsuario," (").concat(null==n?void 0:n.nome,") excluido com sucesso"),"",{status:"success",duration:2e3}),e.Search(e.searchText)},function(t){200!=t.status&&(e.serviceSticker.show("Erro ao excluir ".concat(null==n?void 0:n.cUsuario," (").concat(null==n?void 0:n.nome,")"),"",{status:"danger",duration:5e3}),e.Search(e.searchText))})}},{key:"Cadastrar",value:function(){var n=this;this.userService.postNewUser(this.matricula,this.role).subscribe(function(e){n.serviceSticker.show("Usuario ".concat(null==e?void 0:e.cUsuario," (").concat(null==e?void 0:e.nome,") incluido com sucesso"),"",{status:"success",duration:2e3}),n.Search(n.matricula)},function(e){200!=e.status&&(n.serviceSticker.show("Erro ao incluir ".concat(n.matricula," - ").concat(e.message),"",{status:"danger",duration:5e3}),n.Search(n.searchText))})}},{key:"ChangeRole",value:function(n,e){var t=this;this.userService.postChangeRole(n,e).subscribe(function(n){t.serviceSticker.show("Usuario ".concat(null==n?void 0:n.cUsuario," (").concat(null==n?void 0:n.nome,") alterado para role ").concat(null==n?void 0:n.idRole),"",{status:"success",duration:2e3})},function(n){200!=n.status&&t.serviceSticker.show("Erro ao alterar a role ".concat(t.matricula," - ").concat(n.message),"",{status:"danger",duration:5e3})})}},{key:"findMatricula",value:function(n){var e=this;this.waitMatricula&&clearTimeout(this.waitMatricula),n.length>=7&&(this.waitMatricula=setTimeout(function(){return e.userService.getUsersFind(n).subscribe(function(n){return e.listMatriculas$=n})},r.N.intervalToGetAPI)),this.matriculaSol=null}}]),e}();return e.\u0275fac=function(n){return new(n||e)(c.Y36(u.h),c.Y36(a.K),c.Y36(l.quB))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ngx-cadastro-usuarios"]],decls:71,vars:12,consts:[[1,"row"],[1,"col-md-3","col-lg-3","col-xxxl-3"],[1,"form-group"],["nbInput","","id","searchQuery","placeholder","Busca por matricula ou nome","width","30",3,"ngModel","ngModelChange","keyup.enter"],["q",""],["nbSuffix","","nbButton","","ghost","",3,"click"],["pack","eva",3,"icon"],[1,"col-md-9","col-lg-9","col-xxxl-9"],[1,"col-sm-3"],["for","Matricula",1,"label"],["type","text","nbInput","","fullWidth","","id","matricula","placeholder","Matricula (c999999 ou p999999 ou f999999)",3,"ngModel","nbAutocomplete","ngModelChange"],["nbSuffix","","nbButton","","ghost","",3,"click",4,"ngIf"],["size","large",3,"activeFirst"],["autoMatricula",""],[3,"value",4,"ngFor","ngForOf"],["for","role",1,"label"],["fullWidth","","id","role","name","role",3,"ngModel","ngModelChange"],[1,"col-sm-2"],["for","btnCadastrar",1,"label"],["fullWidth","","nbButton","","id","btnCadastrar",3,"click"],[1,"fas","fa-user"],[1,"col-sm-12"],["icon","person-add-outline","pack","eva",1,"font-2_25rem"],[1,"table"],[1,"row-title"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],["icon","close-outline","pack","eva"],[3,"value"],[3,"ngClass"],["scope","row",1,"no-wrap",3,"click"],["fullWidth","","id","role","name","role",3,"ngModel","ngModelChange","selectedChange"],["SelRole",""],["nbButton","","ghost","",3,"click"],["icon","trash","pack","eva","status","danger"]],template:function(n,e){if(1&n){var t=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"nb-card"),c.TgZ(3,"nb-card-header"),c._uU(4," Busca de Usu\xe1rio "),c.qZA(),c.TgZ(5,"nb-card-body"),c.TgZ(6,"div",2),c.TgZ(7,"nb-form-field"),c.TgZ(8,"input",3,4),c.NdJ("ngModelChange",function(n){return e.searchText=n})("keyup.enter",function(){c.CHM(t);var n=c.MAs(9);return e.Search(n.value)}),c.qZA(),c.TgZ(10,"button",5),c.NdJ("click",function(){c.CHM(t);var n=c.MAs(9);return e.Search(n.value)}),c._UZ(11,"nb-icon",6),c.qZA(),c.qZA(),c._UZ(12,"BR"),c._UZ(13,"BR"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"div",7),c.TgZ(15,"nb-card"),c.TgZ(16,"nb-card-header"),c._uU(17," Cadastro R\xe1pido de Usu\xe1rio "),c.qZA(),c.TgZ(18,"nb-card-body"),c.TgZ(19,"div",0),c.TgZ(20,"div",8),c.TgZ(21,"div",2),c.TgZ(22,"nb-form-field"),c.TgZ(23,"div",2),c.TgZ(24,"label",9),c._uU(25,"Matricula:"),c.qZA(),c.TgZ(26,"nb-form-field"),c.TgZ(27,"input",10),c.NdJ("ngModelChange",function(n){return e.matricula=n})("ngModelChange",function(n){return e.findMatricula(n)}),c.qZA(),c.YNc(28,g,2,0,"button",11),c.qZA(),c.TgZ(29,"nb-autocomplete",12,13),c.YNc(31,f,2,2,"nb-option",14),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(32,"div",8),c.TgZ(33,"div",2),c.TgZ(34,"label",15),c._uU(35,"Role:"),c.qZA(),c.TgZ(36,"nb-select",16),c.NdJ("ngModelChange",function(n){return e.role=n}),c.YNc(37,h,2,2,"nb-option",14),c.qZA(),c.qZA(),c.qZA(),c.TgZ(38,"div",17),c.TgZ(39,"div",2),c.TgZ(40,"label",18),c._uU(41,"\xa0"),c.qZA(),c.TgZ(42,"button",19),c.NdJ("click",function(){return e.Cadastrar()}),c._UZ(43,"i",20),c._uU(44,"\xa0Cadastrar "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(45,"div",0),c.TgZ(46,"div",21),c.TgZ(47,"nb-card"),c.TgZ(48,"nb-card-header"),c.TgZ(49,"h1"),c._UZ(50,"nb-icon",22),c._uU(51," Cadastramento de Usu\xe1rios"),c.qZA(),c.qZA(),c.TgZ(52,"nb-card-body"),c.TgZ(53,"table",23),c.TgZ(54,"thead",24),c.TgZ(55,"tr",24),c.TgZ(56,"td",25),c._uU(57,"ID"),c.qZA(),c.TgZ(58,"td",25),c._uU(59,"Matricula"),c.qZA(),c.TgZ(60,"td",25),c._uU(61,"Nome"),c.qZA(),c.TgZ(62,"td",25),c._uU(63,"CGC"),c.qZA(),c.TgZ(64,"td",25),c._uU(65,"Role"),c.qZA(),c.TgZ(66,"td",25),c._uU(67,"Excluir"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(68,"tbody"),c.YNc(69,v,16,7,"tr",26),c.ALo(70,"async"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&n){var i,o=c.MAs(30);c.xp6(8),c.Q6J("ngModel",e.searchText),c.xp6(3),c.Q6J("icon","search-outline"),c.xp6(16),c.Q6J("ngModel",e.matricula)("nbAutocomplete",o),c.xp6(1),c.Q6J("ngIf",""!=(null!==(i=e.matricula)&&void 0!==i?i:"")),c.xp6(1),c.Q6J("activeFirst",!0),c.xp6(2),c.Q6J("ngForOf",e.listMatriculas$),c.xp6(5),c.Q6J("ngModel",e.role),c.xp6(1),c.Q6J("ngForOf",e.userService.roles),c.xp6(32),c.Q6J("ngForOf",c.lcZ(70,10,e.usuariosSelecionados))}},directives:[l.Asz,l.ndF,l.yKW,l.jBG,l.h8i,s.Fj,s.JJ,s.On,l.DPz,l.yyc,l.fMN,l.wNd,d.O5,l.Xh,d.sg,l.rs,l.q51,d.mk],pipes:[d.Ov],styles:[".flex[_ngcontent-%COMP%]{display:flex;align-items:center}.mensagem-limite30[_ngcontent-%COMP%]{width:30%}.mensagem-limite10[_ngcontent-%COMP%]{width:10%}.dir[_ngcontent-%COMP%]{text-align:right!important}.row-title[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-weight:700}.hand[_ngcontent-%COMP%]{cursor:pointer}tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background:#f4eeff}tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background:#fff}tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{vertical-align:middle}.font-2_25rem[_ngcontent-%COMP%]{font-size:2.25rem}"]}),e}()},4357:function(e,i,o){"use strict";o.d(i,{a:function(){return l}});var r=o(93342),c=o(37716),u=o(86665),a=o(99763),l=function(){var e=function(){function e(t,i){n(this,e),this.authService=t,this.router=i,this.alive=!1}return t(e,[{key:"canActivate",value:function(){var n=this;return this.authService.isAuthenticated().pipe((0,r.b)(function(e){e||n.router.navigate(["gecdi/security/login"])}))}}]),e}();return e.\u0275fac=function(n){return new(n||e)(c.LFG(u._o),c.LFG(a.F0))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();