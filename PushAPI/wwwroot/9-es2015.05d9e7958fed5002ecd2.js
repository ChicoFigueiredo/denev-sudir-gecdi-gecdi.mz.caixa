(self.webpackChunkgecdi_mz_caixa=self.webpackChunkgecdi_mz_caixa||[]).push([[9],{53009:function(e,t,n){"use strict";n.r(t),n.d(t,{GecdiModule:function(){return f}});var r=n(38583),l=n(99763),i=n(13023),o=n(37716),a=n(71423),c=n(6405),s=n(25814);let d=(()=>{class e{constructor(e){this.menu=i.U,e.changeMenu().subscribe(e=>this.menu=e)}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](a.h))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-gecdi"]],decls:3,vars:1,consts:[[3,"items"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"ngx-one-column-layout"),o["\u0275\u0275element"](1,"nb-menu",0),o["\u0275\u0275element"](2,"router-outlet"),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("items",t.menu))},directives:[c.s,s.mBz,l.lC],styles:[""]}),e})();var u=n(4357),m=n(76622);const h=[{path:"",component:d,children:[{path:"dashboard",canActivate:[u.a],loadChildren:()=>n.e(805).then(n.bind(n,92805)).then(e=>e.DashboardModule)},{path:"push",canActivate:[u.a],loadChildren:()=>n.e(632).then(n.bind(n,61632)).then(e=>e.PushModule)},{path:"atendimento",canActivate:[u.a],loadChildren:()=>n.e(837).then(n.bind(n,34837)).then(e=>e.AtendimentoModule)},{path:"security",loadChildren:()=>n.e(330).then(n.bind(n,26330)).then(e=>e.SecurityModule)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"cadastro-usuarios",component:m.m}];let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[l.Bz.forChild(h)],l.Bz]}),e})();var g=n(20336);let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({imports:[[r.ez,p,s.j5J,g.O]]}),e})()},76622:function(e,t,n){"use strict";n.d(t,{m:function(){return p}});var r=n(92340),l=n(13023),i=n(37716),o=n(71423),a=n(88182),c=n(25814),s=n(3679),d=n(38583);function u(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"nb-option",24),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("value",e.idRole),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.nome_Role)}}function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"nb-option",24),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("value",e.idRole),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.nome_Role)}}function h(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr",25),i["\u0275\u0275elementStart"](1,"th",26),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).index,n=i["\u0275\u0275nextContext"]();return n.rowClick(n.s,t)}),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td",26),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).index,n=i["\u0275\u0275nextContext"]();return n.rowClick(n.s,t)}),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td",26),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).index,n=i["\u0275\u0275nextContext"]();return n.rowClick(n.s,t)}),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td",26),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).index,n=i["\u0275\u0275nextContext"]();return n.rowClick(n.s,t)}),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",26),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).index,n=i["\u0275\u0275nextContext"]();return n.rowClick(n.s,t)}),i["\u0275\u0275elementStart"](10,"nb-select",27,28),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.idRole=e})("selectedChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().ChangeRole(n.idUsuario,t)}),i["\u0275\u0275template"](12,m,2,2,"nb-option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"td",26),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).index,n=i["\u0275\u0275nextContext"]();return n.rowClick(n.s,t)}),i["\u0275\u0275elementStart"](14,"button",29),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().excluirUsuario(t)}),i["\u0275\u0275element"](15,"nb-icon",30),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngClass",n.checkRow(e)+" hand"),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](null==e?null:e.idUsuario),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](null==e?null:e.cUsuario),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](null==e?null:e.nome),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](null==e?null:e.cgc),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.idRole),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",n.userService.roles)}}let p=(()=>{class e{constructor(e,t,n){this.menuService=e,this.userService=t,this.serviceSticker=n,this.menu=l.U,this.matricula=null,this.role=6,e.changeMenu().subscribe(e=>this.menu=e),this.userService.getRoles().subscribe(e=>this.roles=e),this.usuariosSelecionados=this.userService.getUsers(r.N.itemsPadrao,"")}ngOnInit(){}checkRow(e){}rowClick(e){}Search(e){this.usuariosSelecionados=this.userService.getUsers(r.N.itemsPadrao,e)}excluirUsuario(e){this.userService.deleteUser(e.idUsuario).subscribe(t=>{this.serviceSticker.show(`Usuario ${null==e?void 0:e.cUsuario} (${null==e?void 0:e.nome}) excluido com sucesso`,"",{status:"success",duration:2e3}),this.Search(this.searchText)},t=>{200!=t.status&&(this.serviceSticker.show(`Erro ao excluir ${null==e?void 0:e.cUsuario} (${null==e?void 0:e.nome})`,"",{status:"danger",duration:5e3}),this.Search(this.searchText))})}Cadastrar(){this.userService.postNewUser(this.matricula,this.role).subscribe(e=>{this.serviceSticker.show(`Usuario ${null==e?void 0:e.cUsuario} (${null==e?void 0:e.nome}) incluido com sucesso`,"",{status:"success",duration:2e3}),this.Search(this.matricula)},e=>{200!=e.status&&(this.serviceSticker.show(`Erro ao incluir ${this.matricula} - ${e.message}`,"",{status:"danger",duration:5e3}),this.Search(this.searchText))})}ChangeRole(e,t){this.userService.postChangeRole(e,t).subscribe(e=>{this.serviceSticker.show(`Usuario ${null==e?void 0:e.cUsuario} (${null==e?void 0:e.nome}) alterado para role ${null==e?void 0:e.idRole}`,"",{status:"success",duration:2e3})},e=>{200!=e.status&&this.serviceSticker.show(`Erro ao alterar a role ${this.matricula} - ${e.message}`,"",{status:"danger",duration:5e3})})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](o.h),i["\u0275\u0275directiveInject"](a.K),i["\u0275\u0275directiveInject"](c.quB))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-cadastro-usuarios"]],decls:66,vars:8,consts:[[1,"row"],[1,"col-md-3","col-lg-3","col-xxxl-3"],[1,"form-group"],["nbInput","","id","searchQuery","placeholder","Busca por matricula ou nome","width","30",3,"ngModel","ngModelChange","keyup.enter"],["q",""],["nbSuffix","","nbButton","","ghost","",3,"click"],["pack","eva",3,"icon"],[1,"col-md-9","col-lg-9","col-xxxl-9"],[1,"col-sm-3"],["for","Matricula",1,"label"],["type","text","nbInput","","fullWidth","","id","matricula","placeholder","Matricula (c999999 ou p999999 ou f999999)",3,"ngModel","ngModelChange"],["for","role",1,"label"],["fullWidth","","id","role","name","role",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-2"],["for","btnCadastrar",1,"label"],["fullWidth","","nbButton","","id","btnCadastrar",3,"click"],[1,"fas","fa-user"],[1,"col-sm-12"],["icon","person-add-outline","pack","eva",1,"font-2_25rem"],[1,"table"],[1,"row-title"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"value"],[3,"ngClass"],["scope","row",1,"no-wrap",3,"click"],["fullWidth","","id","role","name","role",3,"ngModel","ngModelChange","selectedChange"],["SelRole",""],["nbButton","","ghost","",3,"click"],["icon","trash","pack","eva","info","danger"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"nb-card"),i["\u0275\u0275elementStart"](3,"nb-card-header"),i["\u0275\u0275text"](4," Busca de Usu\xe1rio "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"nb-card-body"),i["\u0275\u0275elementStart"](6,"div",2),i["\u0275\u0275elementStart"](7,"nb-form-field"),i["\u0275\u0275elementStart"](8,"input",3,4),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchText=e})("keyup.enter",function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](9);return t.Search(n.value)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"button",5),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](9);return t.Search(n.value)}),i["\u0275\u0275element"](11,"nb-icon",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](12,"BR"),i["\u0275\u0275element"](13,"BR"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",7),i["\u0275\u0275elementStart"](15,"nb-card"),i["\u0275\u0275elementStart"](16,"nb-card-header"),i["\u0275\u0275text"](17," Cadastro R\xe1pido de Usu\xe1rio "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"nb-card-body"),i["\u0275\u0275elementStart"](19,"div",0),i["\u0275\u0275elementStart"](20,"div",8),i["\u0275\u0275elementStart"](21,"div",2),i["\u0275\u0275elementStart"](22,"nb-form-field"),i["\u0275\u0275elementStart"](23,"div",2),i["\u0275\u0275elementStart"](24,"label",9),i["\u0275\u0275text"](25,"Matricula:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"input",10),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.matricula=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](27,"div",8),i["\u0275\u0275elementStart"](28,"div",2),i["\u0275\u0275elementStart"](29,"label",11),i["\u0275\u0275text"](30,"Role:"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](31,"nb-select",12),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.role=e}),i["\u0275\u0275template"](32,u,2,2,"nb-option",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"div",14),i["\u0275\u0275elementStart"](34,"div",2),i["\u0275\u0275elementStart"](35,"label",15),i["\u0275\u0275text"](36,"\xa0"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"button",16),i["\u0275\u0275listener"]("click",function(){return t.Cadastrar()}),i["\u0275\u0275element"](38,"i",17),i["\u0275\u0275text"](39,"\xa0Cadastrar "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"div",0),i["\u0275\u0275elementStart"](41,"div",18),i["\u0275\u0275elementStart"](42,"nb-card"),i["\u0275\u0275elementStart"](43,"nb-card-header"),i["\u0275\u0275elementStart"](44,"h1"),i["\u0275\u0275element"](45,"nb-icon",19),i["\u0275\u0275text"](46," Cadastramento de Usu\xe1rios"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](47,"nb-card-body"),i["\u0275\u0275elementStart"](48,"table",20),i["\u0275\u0275elementStart"](49,"thead",21),i["\u0275\u0275elementStart"](50,"tr",21),i["\u0275\u0275elementStart"](51,"td",22),i["\u0275\u0275text"](52,"ID"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](53,"td",22),i["\u0275\u0275text"](54,"Matricula"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](55,"td",22),i["\u0275\u0275text"](56,"Nome"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](57,"td",22),i["\u0275\u0275text"](58,"CGC"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](59,"td",22),i["\u0275\u0275text"](60,"Role"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](61,"td",22),i["\u0275\u0275text"](62,"Excluir"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](63,"tbody"),i["\u0275\u0275template"](64,h,16,7,"tr",23),i["\u0275\u0275pipe"](65,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngModel",t.searchText),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("icon","search-outline"),i["\u0275\u0275advance"](15),i["\u0275\u0275property"]("ngModel",t.matricula),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.role),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.userService.roles),i["\u0275\u0275advance"](32),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](65,6,t.usuariosSelecionados)))},directives:[c.Asz,c.ndF,c.yKW,c.jBG,c.h8i,s.Fj,s.JJ,s.On,c.DPz,c.yyc,c.fMN,c.rs,d.sg,c.q51,d.mk],pipes:[d.Ov],styles:[".flex[_ngcontent-%COMP%]{display:flex;align-items:center}.mensagem-limite30[_ngcontent-%COMP%]{width:30%}.mensagem-limite10[_ngcontent-%COMP%]{width:10%}.dir[_ngcontent-%COMP%]{text-align:right!important}.row-title[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-weight:700}.hand[_ngcontent-%COMP%]{cursor:pointer}tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background:#f4eeff}tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background:#fff}tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{vertical-align:middle}.font-2_25rem[_ngcontent-%COMP%]{font-size:2.25rem}"]}),e})()},4357:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var r=n(93342),l=n(37716),i=n(86665),o=n(99763);let a=(()=>{class e{constructor(e,t){this.authService=e,this.router=t,this.alive=!1}canActivate(){return this.authService.isAuthenticated().pipe((0,r.b)(e=>{e||this.router.navigate(["gecdi/security/login"])}))}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](i._o),l["\u0275\u0275inject"](o.F0))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);