(self.webpackChunkgecdi_mz_caixa=self.webpackChunkgecdi_mz_caixa||[]).push([[837],{34837:function(e,t,n){"use strict";n.r(t),n.d(t,{AtendimentoModule:function(){return ee}});var a=n(38583),l=n(3679),o=n(25814),i=n(99763),r=n(88002),s=n(92340);function d(e,t){var n=document.createElement("form");for(var a in n.target="_blank",n.method="POST",n.action=e,n.style.display="none",t){var l=document.createElement("input");l.type="hidden",l.name=a,l.value=t[a],n.appendChild(l)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)}var c=n(37716),m=n(91841);const p=s.N.urlAPI+"/api/atendentes";let u=(()=>{class e{constructor(e){this.http=e,this.atendentes=[]}getAtendentes(){return this.http.get(`${p}`).pipe((0,r.U)(e=>(this.atendentes=e,e)))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](m.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const h=s.N.urlAPI+"/api/chamados";let v=(()=>{class e{constructor(e){this.http=e}getChamados(e=!0,t=null,n=-1,a="",l="<Todos>",o="<Todos>",i="<Todos>",r="<Todos>",s=null,d="minimo"){return this.http.get(`${h}?abertos=${e}&atendente=${a}&tratado=${s}`)}getChamadoById(e){return this.http.get(`${h}/${e}`)}getDesCarimbarChamadoById(e){return this.http.post(`${h}/${e}/descarimbar`,null)}getCarimbarChamadoById(e,t=""){return this.http.post(`${h}/${e}/carimbar/?carimbo=${encodeURI(t)}`,null)}putTratarChamadoById(e,t,n){return this.http.post(`${h}/${e}/tratado/?foiTratado=${t}&apelidoAtendente=${n}`,null)}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](m.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=n(88182),f=n(26215);const C=s.N.urlAPI+"/api/CacheParametroes";let x=(()=>{class e{constructor(e){this.http=e,this.parametros=null,this._changeParametros=new f.X(this.parametros)}get changeParametros(){return this._changeParametros.asObservable()}getPatametros(){return this.http.get(`${C}`).pipe((0,r.U)(e=>(this.parametros=e,this._changeParametros.next(this.parametros),e)))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](m.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=n(25917);const b=s.N.urlAPI+"/api/templates_resposta";let E=(()=>{class e{constructor(e){this.http=e,this.templates=null,this._changeTemplatesRespostas=new f.X(this.templates),this.getTemplatesRespostas().subscribe(e=>null)}get changeTemplatesRespostas(){return this._changeTemplatesRespostas.asObservable()}getTemplatesRespostas(){return this.http.get(`${b}`).pipe((0,r.U)(e=>(this.templates=e,this._changeTemplatesRespostas.next(this.templates),e)))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](m.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function T(e,t){if(1&e&&c["\u0275\u0275element"](0,"div",7),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("innerHTML",null==e.template?null:e.template.vResposta,c["\u0275\u0275sanitizeHtml"])}}function y(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"pre",8),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e.template?null:e.template.vResposta)}}function I(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"span"),c["\u0275\u0275text"](2,"PR\xc9VIA: "),c["\u0275\u0275elementStart"](3,"b",2),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](5," \xa0\xa0\xa0 "),c["\u0275\u0275element"](6,"BR"),c["\u0275\u0275text"](7),c["\u0275\u0275template"](8,T,1,1,"div",5),c["\u0275\u0275elementStart"](9,"b"),c["\u0275\u0275template"](10,y,2,1,"pre",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate2"]("",null==e.template?null:e.template.vAcao," | ",null==e.template?null:e.template.vTemplateResposta,""),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",null==e.template||null==e.template.cgC_TranferenciaNavigation?null:e.template.cgC_TranferenciaNavigation.nome_Exibicao," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Fechar!"==(null==e.template?null:e.template.vAcao)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","Transferir!"==(null==e.template?null:e.template.vAcao))}}function A(e,t){if(1&e&&c["\u0275\u0275element"](0,"div",7),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("innerHTML",null==e.chamado||null==e.chamado.vTemplateRespostaNavigation?null:e.chamado.vTemplateRespostaNavigation.vResposta,c["\u0275\u0275sanitizeHtml"])}}function R(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"pre",8),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e.chamado||null==e.chamado.vTemplateRespostaNavigation?null:e.chamado.vTemplateRespostaNavigation.vResposta)}}function O(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"span"),c["\u0275\u0275text"](2,"CARIMBADO: "),c["\u0275\u0275elementStart"](3,"b",2),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](5," \xa0\xa0\xa0 "),c["\u0275\u0275element"](6,"BR"),c["\u0275\u0275text"](7),c["\u0275\u0275template"](8,A,1,1,"div",5),c["\u0275\u0275elementStart"](9,"b"),c["\u0275\u0275template"](10,R,2,1,"pre",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate2"]("",null==e.chamado?null:e.chamado.vAcao," | ",null==e.chamado?null:e.chamado.vTemplateResposta,""),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",null==e.chamado||null==e.chamado.cgC_TranferenciaNavigation?null:e.chamado.cgC_TranferenciaNavigation.nome_Exibicao," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Fechar!"==(null==e.chamado||null==e.chamado.vTemplateRespostaNavigation?null:e.chamado.vTemplateRespostaNavigation.vAcao)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","Transferir!"==(null==e.chamado||null==e.chamado.vTemplateRespostaNavigation?null:e.chamado.vTemplateRespostaNavigation.vAcao))}}function w(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",1),c["\u0275\u0275template"](1,I,11,5,"div",4),c["\u0275\u0275template"](2,O,11,5,"div",4),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null!=e.template&&null==(null==e.chamado?null:e.chamado.vTemplateResposta)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==e.template||null!=(null==e.chamado?null:e.chamado.vTemplateResposta)||""!=(null==e.chamado?null:e.chamado.vTemplateResposta))}}let k=(()=>{class e{constructor(){this.template=null}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-dados-chamado"]],inputs:{chamado:"chamado",template:"template"},decls:73,vars:26,consts:[[1,"row","margin-top-1em"],[1,"col-md-4","top-linha-cinza"],[1,"blue-font"],["class","col-md-4 top-linha-cinza",4,"ngIf"],[4,"ngIf"],["class","limitar-25em",3,"innerHTML",4,"ngIf"],["class","limitar-25em",4,"ngIf"],[1,"limitar-25em",3,"innerHTML"],[1,"limitar-25em"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275text"](2," Solicitante: "),c["\u0275\u0275elementStart"](3,"b"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](5,"br"),c["\u0275\u0275text"](6," Situa\xe7\xe3o (GECDI): "),c["\u0275\u0275elementStart"](7,"b"),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](9,"br"),c["\u0275\u0275text"](10," Abertura: "),c["\u0275\u0275elementStart"](11,"b"),c["\u0275\u0275text"](12),c["\u0275\u0275pipe"](13,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](14,"br"),c["\u0275\u0275text"](15," Vencimento: "),c["\u0275\u0275elementStart"](16,"b"),c["\u0275\u0275text"](17),c["\u0275\u0275pipe"](18,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](19,"br"),c["\u0275\u0275text"](20," Transferir at\xe9: "),c["\u0275\u0275elementStart"](21,"b"),c["\u0275\u0275text"](22),c["\u0275\u0275pipe"](23,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](24,"br"),c["\u0275\u0275text"](25," Atendente: "),c["\u0275\u0275elementStart"](26,"b",2),c["\u0275\u0275text"](27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](28,"br"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"div",1),c["\u0275\u0275text"](30," Tipo: "),c["\u0275\u0275elementStart"](31,"b"),c["\u0275\u0275text"](32),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](33,"br"),c["\u0275\u0275text"](34," Ocorrencia: "),c["\u0275\u0275elementStart"](35,"b"),c["\u0275\u0275text"](36),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](37,"br"),c["\u0275\u0275text"](38," Natureza: "),c["\u0275\u0275elementStart"](39,"b"),c["\u0275\u0275text"](40),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](41,"br"),c["\u0275\u0275text"](42," Assunto: "),c["\u0275\u0275elementStart"](43,"b"),c["\u0275\u0275text"](44),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](45,"br"),c["\u0275\u0275text"](46," Item: "),c["\u0275\u0275elementStart"](47,"b"),c["\u0275\u0275text"](48),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](49,"br"),c["\u0275\u0275text"](50," Motivo: "),c["\u0275\u0275elementStart"](51,"b"),c["\u0275\u0275text"](52),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](53,w,3,2,"div",3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](54,"div",0),c["\u0275\u0275elementStart"](55,"div",1),c["\u0275\u0275text"](56," Manifesto:"),c["\u0275\u0275element"](57,"br"),c["\u0275\u0275elementStart"](58,"b"),c["\u0275\u0275elementStart"](59,"pre"),c["\u0275\u0275text"](60),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](61,"div",1),c["\u0275\u0275text"](62," Movimentacoes:"),c["\u0275\u0275element"](63,"br"),c["\u0275\u0275elementStart"](64,"b"),c["\u0275\u0275elementStart"](65,"pre"),c["\u0275\u0275text"](66),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](67,"div",1),c["\u0275\u0275text"](68," Comentario:"),c["\u0275\u0275element"](69,"br"),c["\u0275\u0275elementStart"](70,"b"),c["\u0275\u0275elementStart"](71,"pre"),c["\u0275\u0275text"](72),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate2"]("",null==t.chamado?null:t.chamado.vCPF_CNPJ_Solicitante," ",null==t.chamado?null:t.chamado.vNomeSolicitante,""),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vSituacao),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](13,17,null==t.chamado?null:t.chamado.dDataHoraAbertura,"dd/LL/yyyy HH:mm")),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](18,20,null==t.chamado?null:t.chamado.dDataVencimento,"dd/LL/yyyy")),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](23,23,null==t.chamado?null:t.chamado.dDataMaximaTransferencia,"dd/LL/yyyy")),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vApelidoAtendente),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vTipoOrigem),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vTipoOcorrencia),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vNatureza),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vAssunto),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vItem),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vMotivo),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null!=t.template||null!=(null==t.chamado?null:t.chamado.vTemplateResposta)),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vManifesto),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vMovimentacoes),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](null==t.chamado?null:t.chamado.vComentario))},directives:[a.O5],pipes:[a.uU],styles:["pre[_ngcontent-%COMP%]{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.margin-top-1em[_ngcontent-%COMP%]{margin-top:1em}.top-linha-cinza[_ngcontent-%COMP%]{border-top:1px solid gray;margin-left:6px;margin-right:6px;padding:3px}.col-md-4[_ngcontent-%COMP%]{max-width:calc(33.3333333% - 12px)}.col-md-6[_ngcontent-%COMP%]{max-width:calc(50% - 12px)}.limitar-25em[_ngcontent-%COMP%]{max-height:22em;overflow:auto;color:blue}.limitar-25em[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:blue}.blue-font[_ngcontent-%COMP%]{color:blue;font-size:1.2em}"]}),e})();const M=["dialog"],N=["inputTemplateRef"];function P(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"a",12),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2);return t.openAtender(null==t.chamado?null:t.chamado.iIdentificacaoChamado)}),c["\u0275\u0275element"](1,"i",13),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate2"](" Chamado ",null==e.chamado?null:e.chamado.vOrigem," N\xba ",null==e.chamado?null:e.chamado.iIdentificacaoChamado," ")}}function D(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"a"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate3"]("Chamado ",null==e.chamado?null:e.chamado.vOrigem," N\xba ",null==e.chamado?null:e.chamado.iIdentificacaoChamado," ",null!=e.chamado&&e.chamado.vWorkOrderID?"( "+(null==e.chamado?null:e.chamado.vWorkOrderID)+" / "+(null==e.chamado?null:e.chamado.vREQ)+" )":"","")}}function $(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",11),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).getPosition(-1)}),c["\u0275\u0275text"](1,"<"),c["\u0275\u0275elementEnd"]()}}function _(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",11),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).getPosition(1)}),c["\u0275\u0275text"](1,">"),c["\u0275\u0275elementEnd"]()}}function F(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"nb-option",19),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275property"]("value",e),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e," ")}}function V(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",14),c["\u0275\u0275text"](1," Carimbar com (F6) : "),c["\u0275\u0275elementStart"](2,"input",15,16),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onChangeTemplateResponse(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"nb-autocomplete",null,17),c["\u0275\u0275template"](6,F,2,2,"nb-option",18),c["\u0275\u0275pipe"](7,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](8,"\xa0\xa0 "),c["\u0275\u0275elementStart"](9,"button",11),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2);return t.Carimbar(t.chamado,t.selectedTemplateResponse)}),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](11," \xa0\xa0 "),c["\u0275\u0275elementStart"](12,"button",11),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2);return t.desCarimbar(t.chamado)}),c["\u0275\u0275text"](13,"Descarimbar (F8)"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](5),t=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",t.selectedTemplateResponseString)("nbAutocomplete",e),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind1"](7,4,t.filteredNgModelOptions$)),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("Carimbar ",null==t.selectedTemplateResponse?null:t.selectedTemplateResponse.vAcao," (F7)")}}function B(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"nb-card",2),c["\u0275\u0275elementStart"](1,"nb-card-header"),c["\u0275\u0275template"](2,P,3,2,"a",3),c["\u0275\u0275template"](3,D,2,3,"a",4),c["\u0275\u0275elementStart"](4,"div",5),c["\u0275\u0275template"](5,$,2,0,"button",6),c["\u0275\u0275text"](6),c["\u0275\u0275template"](7,_,2,0,"button",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"nb-card-body"),c["\u0275\u0275element"](9,"ngx-dados-chamado",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"nb-card-footer"),c["\u0275\u0275template"](11,V,14,6,"div",8),c["\u0275\u0275elementStart"](12,"div",9),c["\u0275\u0275elementStart"](13,"nb-checkbox",10),c["\u0275\u0275listener"]("ngModelChange",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275nextContext"]();return n.changeCheckTratado(n.chamado,t)}),c["\u0275\u0275text"](14,"Ja foi tratado"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",5),c["\u0275\u0275elementStart"](16,"button",11),c["\u0275\u0275listener"]("click",function(){return t.dialogRef.close()}),c["\u0275\u0275text"](17,"Fechar"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ATENDER"==(null==e.chamado?null:e.chamado.vOrigem)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ATENDER"!=(null==e.chamado?null:e.chamado.vOrigem)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.position>0),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.position+1," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.position<e.listaChamados.length),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("chamado",e.chamado)("template",e.selectedTemplateResponse),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ATENDER"==(null==e.chamado?null:e.chamado.vOrigem)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",null==e.chamado?null:e.chamado.bFoiTratado)}}let U=(()=>{class e{constructor(e,t,n,a,l){this.dialogService=e,this.serviceChamado=t,this.serviceTemplateResposta=n,this.serviceSticker=a,this.serviceUser=l,this.templateResponse=new Map,this.templateResponseArray=[],this.selectedTemplateResponseString="",this.selectedTemplateResponse=null,this.ultimoCarimbo="",this.serviceTemplateResposta.changeTemplatesRespostas.subscribe(e=>{(null==e?void 0:e.length)>0&&(this.templateResponse.clear(),e.forEach(e=>{this.templateResponse.set(e.vTemplateResposta,e),this.templateResponseArray.push(e.vTemplateResposta)}),this.filteredNgModelOptions$=(0,S.of)(this.templateResponseArray))})}ngOnInit(){}filter(e){const t=e.toLowerCase();return this.templateResponseArray.filter(e=>e.toLowerCase().includes(t))}onChangeTemplateResponse(e){this.templateResponse.has(e)?(this.selectedTemplateResponseString=e,this.selectedTemplateResponse=this.templateResponse.get(e)):this.filteredNgModelOptions$=(0,S.of)(this.filter(e))}openDialog(){var e;this.dialogService.open(this.dialog,{hasScroll:!0,dialogClass:"dialog-class"}),this.selectedTemplateResponseString=null===(e=this.chamado)||void 0===e?void 0:e.vTemplateResposta,this.templateResponse.has(this.selectedTemplateResponseString)&&(this.selectedTemplateResponse=this.templateResponse.get(this.selectedTemplateResponseString))}getPosition(e){e<0&&this.position>0?(this.position--,this.serviceChamado.getChamadoById(this.listaChamados[this.position].idChamado).subscribe(e=>{var t,n;this.chamado=e,null!=(null===(t=this.chamado)||void 0===t?void 0:t.vTemplateResposta)&&""!=(null===(n=this.chamado)||void 0===n?void 0:n.vTemplateResposta)||(this.selectedTemplateResponseString=null,this.selectedTemplateResponse=null)})):e>0&&this.position<this.listaChamados.length&&(this.position++,this.serviceChamado.getChamadoById(this.listaChamados[this.position].idChamado).subscribe(e=>{var t,n;this.chamado=e,null!=(null===(t=this.chamado)||void 0===t?void 0:t.vTemplateResposta)&&""!=(null===(n=this.chamado)||void 0===n?void 0:n.vTemplateResposta)||(this.selectedTemplateResponseString=null,this.selectedTemplateResponse=null)}))}Carimbar(e,t){null==t&&(this.templateResponse.has(this.selectedTemplateResponseString)?(t=this.templateResponse.get(this.selectedTemplateResponseString),this.selectedTemplateResponse=t,this.selectedTemplateResponseString=t.vTemplateResposta):this.templateResponse.has(this.inputTemplateRef.nativeElement.value)&&(t=this.templateResponse.get(this.inputTemplateRef.nativeElement.value),this.selectedTemplateResponse=t,this.selectedTemplateResponseString=t.vTemplateResposta)),null==t?(this.serviceSticker.show("Escolha o template!","",{status:"danger",duration:5e3}),this.inputTemplateRef.nativeElement.focus()):this.serviceChamado.getCarimbarChamadoById(this.chamado.idChamado,t.vTemplateResposta).subscribe(e=>{this.chamado=e,this.ultimoCarimbo=t.vTemplateResposta,this.selectedTemplateResponse=t,this.selectedTemplateResponseString=t.vTemplateResposta,this.serviceSticker.show(`Chamado N\xba ${e.idChamado} Carimbado com a a\xe7\xe3o '${t.vTemplateResposta}' com sucesso`,"",{status:"success"})},e=>{this.serviceSticker.show(`Chamado N\xba ${this.chamado.idChamado} com erro na carimba\xe7\xe3o: ${JSON.stringify(e,null,0)}`,"",{status:"danger",duration:5e3})})}desCarimbar(e,t=null){this.selectedTemplateResponseString=null,this.selectedTemplateResponse=null,this.serviceChamado.getDesCarimbarChamadoById(this.chamado.idChamado).subscribe(e=>{this.chamado=e,this.serviceSticker.show(`Chamado N\xba ${e.idChamado} descarimbado com sucesso`,"",{status:"success"})},e=>{this.serviceSticker.show(`Chamado N\xba ${this.chamado.idChamado} com erro na descarimba\xe7\xe3o: ${JSON.stringify(e,null,0)}`,"",{status:"danger",duration:5e3})})}changeCheckTratado(e,t){e.bFoiTratado=t,this.serviceChamado.putTratarChamadoById(e.idChamado,t,this.serviceUser.currentUser.apelidoAtendente).subscribe(n=>{n.bFoiTratado==t?(this.serviceSticker.show(`Chamado N\xba ${null==e?void 0:e.idChamado} marcado como ${(null==e?void 0:e.bFoiTratado)?"TRATADO":"N\xc3O TRATADO"}`,"",{status:"success"}),this.listaChamados[this.position].bFoiTratado=n.bFoiTratado,this.callbackMark(this.position,n.bFoiTratado)):this.serviceSticker.show(`Chamado N\xba ${null==e?void 0:e.idChamado} com erro na marca\xe7\xe3o de tratamento`,"",{status:"danger",duration:5e3})},t=>this.serviceSticker.show(`Chamado N\xba ${null==e?void 0:e.idChamado} com erro na marca\xe7\xe3o de tratamento: ${JSON.stringify(t,null,0)}`,"",{status:"danger",duration:5e3}))}handleKeyboardEvent(e){if(!e.ctrlKey||"ArrowRight"!=e.key&&"ArrowDown"!=e.key)if(!e.ctrlKey||"ArrowLeft"!=e.key&&"ArrowUp"!=e.key)if(e.ctrlKey&&"F"==e.key)this.dialog.close();else if("F6"==e.key)this.inputTemplateRef.nativeElement.focus();else if("F7"==e.key){let e;null==this.selectedTemplateResponseString||""==this.selectedTemplateResponseString?this.templateResponse.has(this.ultimoCarimbo)&&(e=this.templateResponse.get(this.ultimoCarimbo)):e=this.selectedTemplateResponse,this.Carimbar(this.chamado,e)}else"F8"==e.key&&this.desCarimbar(this.chamado);else this.getPosition(-1);else this.getPosition(1)}openAtender(e){d("https://atender.caixa/siouv/jsp/login/DetalharOcorrencia.do",{sequencialOcorrencia:e,method:"iniciarDetalhamentoEnviadas",perfilUsuario:"gestor",escopo:"I",sequencialTipoOcorrencia:"2",situacao:"Enviada",sequencialFase:"2",gravaHistorico:"S",paginaVoltar:"ListaOcorrenciasResponder",ordenacaoOuvidoria:"3",ordenacaoSac:"3",ordenacaoInterna:"3",tipoOrdenacaoOuvidoria:"DESC",tipoOrdenacaoSac:"DESC",tipoOrdenacaoInterna:"DESC"})}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](o.Gln),c["\u0275\u0275directiveInject"](v),c["\u0275\u0275directiveInject"](E),c["\u0275\u0275directiveInject"](o.quB),c["\u0275\u0275directiveInject"](g.K))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-dialog-chamado"]],viewQuery:function(e,t){if(1&e&&(c["\u0275\u0275viewQuery"](M,5),c["\u0275\u0275viewQuery"](N,5)),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.dialog=e.first),c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.inputTemplateRef=e.first)}},hostBindings:function(e,t){1&e&&c["\u0275\u0275listener"]("keydown",function(e){return t.handleKeyboardEvent(e)},!1,c["\u0275\u0275resolveDocument"])},inputs:{chamado:"chamado",position:"position",listaChamados:"listaChamados",callbackMark:"callbackMark"},decls:3,vars:0,consts:[["class","template-chamado"],["dialog",""],[1,"dialog-card"],["class","no-wrap hand",3,"click",4,"ngIf"],[4,"ngIf"],[1,"float-right"],["nbButton","",3,"click",4,"ngIf"],[3,"chamado","template"],["class","float-left",4,"ngIf"],[1,"align-middle","margin-left-2em"],["status","primary",3,"ngModel","ngModelChange"],["nbButton","",3,"click"],[1,"no-wrap","hand",3,"click"],[1,"fas","fa-external-link-alt"],[1,"float-left"],["nbInput","","type","text","placeholder","Escolha o template de Resposta",1,"input-template",3,"ngModel","nbAutocomplete","ngModelChange"],["inputTemplateRef",""],["autoChoiceTemplateRespose",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(c["\u0275\u0275text"](0,"a"),c["\u0275\u0275template"](1,B,18,9,"ng-template",0,1,c["\u0275\u0275templateRefExtractor"]))},directives:[o.Asz,o.ndF,a.O5,o.yKW,k,o.XWE,o.NTf,l.JJ,l.On,o.DPz,o.h8i,l.Fj,o.wNd,o.Xh,a.sg,o.q51],pipes:[a.Ov],styles:["nb-card[_ngcontent-%COMP%]{max-height:90vh;max-width:90vw;min-height:90vh;min-width:90vw}.input-template[_ngcontent-%COMP%]{min-width:20rem}.hand[_ngcontent-%COMP%]{cursor:pointer}.margin-left-2em[_ngcontent-%COMP%]{margin-left:2em}"]}),e})();const z=["diag"];function j(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",28),c["\u0275\u0275element"](1,"nb-user",29),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("name",e.Apelido),c["\u0275\u0275propertyInterpolate2"]("title","",e.Chamados," Ch | ",e.Ouvidorias," Ouv"),c["\u0275\u0275propertyInterpolate"]("badgeText",e.Total),c["\u0275\u0275propertyInterpolate"]("picture",e.UrlAvatar)}}function L(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"nb-option",30),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275property"]("value",null==e?null:e.vApelidoAtendente),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.vApelidoAtendente," ")}}function H(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"a",39),c["\u0275\u0275element"](1,"i",40),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.iIdentificacaoChamado,"")}}function q(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"a"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.iIdentificacaoChamado)}}function K(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr",31),c["\u0275\u0275elementStart"](1,"th",32),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index,l=c["\u0275\u0275nextContext"]();return"ATENDER"==(null==n?null:n.vOrigem)?l.openAtender(null==n?null:n.iIdentificacaoChamado):l.detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275template"](2,H,3,1,"a",33),c["\u0275\u0275template"](3,q,2,1,"a",34),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"td",35),c["\u0275\u0275elementStart"](5,"nb-checkbox",36),c["\u0275\u0275listener"]("ngModelChange",function(t){const n=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"]().changeCheckTratado(n,t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td",32),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index;return c["\u0275\u0275nextContext"]().detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td",37),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index;return c["\u0275\u0275nextContext"]().detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"td",32),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index;return c["\u0275\u0275nextContext"]().detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275text"](11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"td",32),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index;return c["\u0275\u0275nextContext"]().detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"td",32),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index;return c["\u0275\u0275nextContext"]().detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"td",32),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index;return c["\u0275\u0275nextContext"]().detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275text"](19),c["\u0275\u0275pipe"](20,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"td",38),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index;return c["\u0275\u0275nextContext"]().detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275text"](22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"td",32),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index;return c["\u0275\u0275nextContext"]().detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275text"](24),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"td",38),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index;return c["\u0275\u0275nextContext"]().detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275text"](26),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"td",32),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,a=t.index;return c["\u0275\u0275nextContext"]().detalheChamado(null==n?null:n.idChamado,a)}),c["\u0275\u0275text"](28),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("ngClass",n.checkRow(e)+" hand"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ATENDER"==(null==e?null:e.vOrigem)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ATENDER"!=(null==e?null:e.vOrigem)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",null==e?null:e.bFoiTratado),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.vOrigem),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"]((null==e?null:e.vCPF_CNPJ_Solicitante)||""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.vNomeSolicitante),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](14,20,null==e?null:e.dDataHoraAbertura,"dd/LL/yyyy HH:mm")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](17,23,null==e?null:e.dDataVencimento,"dd/LL/yyyy")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](20,26,null==e?null:e.dDataMaximaTransferencia,"dd/LL/yyyy")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",n.checkCellTransferir(e)+" no-wrap"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.vSituacaoGECDI),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",null!=e&&e.vAcao?(null==e?null:e.vAcao)+" | "+(null==e?null:e.vTemplateResposta):""," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",n.checkCell(e)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate5"]("",null==e?null:e.vTipoOcorrencia," | ",null==e?null:e.vNatureza," | ",null==e?null:e.vAssunto," | ",null==e?null:e.vMotivo," | ",null==e?null:e.vItem,""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.vApelidoAtendente)}}const J=s.N.urlAPI+"/api/user";let G=(()=>{class e{constructor(e,t,n,a,l){this.serviceAtendentes=e,this.serviceChamados=t,this.serviceUser=n,this.serviceParametros=a,this.serviceSticker=l,this.apelidoAtendente="",this.chamadoAtual=null,this.parametros=null,this.estatisticas=new Q,this.estatisticasAtendentes=new Array,this.posicao=0,this.idPrimeiroChamado=-1,this.serviceUser.changeUser().subscribe(t=>{t&&(1==t.user.role&&(this.apelidoAtendente="<Todos>"),this.atendentes=e.getAtendentes().pipe((0,r.U)(e=>(this.onChange(this.apelidoAtendente),e))))})}onChange(e){this.apelidoAtendente=e,this.syncList()}syncList(){this.chamados=this.serviceChamados.getChamados(!0,null,null,this.apelidoAtendente,null,null,null,null,null,"minimo").pipe((0,r.U)((e,t)=>{e.length>0&&(this.idPrimeiroChamado=e[0].idChamado);const n=new Q,a=new Map,l=new Map;return e.forEach(e=>{if(n.TotalChamados++,"ATENDER"==e.vOrigem?n.TotalChamadosAtender++:n.TotalChamadosServicos++,"OUVIDORIA"==(null==e?void 0:e.vTipoOcorrencia)&&n.Ouvidorias++,/venc/gi.test(e.vSituacaoGECDI)&&(n.ChamadosVencidosOuVencendo++,"OUVIDORIA"==(null==e?void 0:e.vTipoOcorrencia)&&n.OuvidoriasVencendo++),/\xfaltimo dia/gi.test(e.vSituacaoGECDI)&&n.ChamadosUltimoDiaTransferir++,/n\xe3o transf/gi.test(e.vSituacaoGECDI)&&n.ChamadosNaoTransferir++,e&&""!=(null==e?void 0:e.vApelidoAtendente)&&null!=(null==e?void 0:e.vApelidoAtendente)){if(n.ChamadosAtribuidos++,a.has(e.vApelidoAtendente)?a.set(e.vApelidoAtendente,a.get(e.vApelidoAtendente)+1):a.set(e.vApelidoAtendente,1),!l.has(e.vApelidoAtendente)){let t=new W;t.Apelido=e.vApelidoAtendente,t.Matricula=e.cUsuario,t.UrlAvatar=`${J}/${e.cUsuario}/avatar`,l.set(e.vApelidoAtendente,t)}let t=l.get(e.vApelidoAtendente);(null==e?void 0:e.bFoiTratado)||("OUVIDORIA"==(null==e?void 0:e.vTipoOcorrencia)?t.Ouvidorias++:t.Chamados++,t.Total++),l.set(e.vApelidoAtendente,t)}else n.ChamadosNaoAtribuidos++}),n.Atendentes=a.size,this.estatisticas=n,this.listaFisicaChamados=e,this.estatisticasAtendentes=new Array,l.forEach((e,t)=>this.estatisticasAtendentes.push(e)),this.estatisticasAtendentes=this.estatisticasAtendentes.sort((e,t)=>t.Total-e.Total),e})),this.serviceParametros.getPatametros().subscribe(e=>{this.parametros=e})}detalheChamado(e,t){this.chamadoAtual=this.serviceChamados.getChamadoById(e),this.posicao=t,this.dialog.openDialog()}checkRow(e){return e.bFoiTratado?"row-green ":/venc/gi.test(e.vSituacaoGECDI)?"row-red ":/ouvidoria/gi.test(e.vTipoOcorrencia)?"row-blue":void 0}checkCellTransferir(e){return e.bFoiTratado?"row-green ":/n\xe3o tran/gi.test(e.vSituacaoGECDI)?"cell-nao-transferir":/\xfaltimo dia/gi.test(e.vSituacaoGECDI)?"cell-ultimo-dia-transferir":void 0}checkCell(e){if("OUVIDORIA"==(null==e?void 0:e.vTipoOcorrencia))return"row-blue"}handleKeyboardEvent(e){"F2"==e.key&&this.idPrimeiroChamado>0&&(this.chamadoAtual=this.serviceChamados.getChamadoById(this.idPrimeiroChamado),this.posicao=0,this.dialog.openDialog())}changeCheckTratado(e,t){var n,a;e.bFoiTratado=t,this.serviceChamados.putTratarChamadoById(e.idChamado,t,null===(a=null===(n=this.serviceUser)||void 0===n?void 0:n.currentUser)||void 0===a?void 0:a.apelidoAtendente).subscribe(n=>{n.bFoiTratado==t?this.serviceSticker.show(`Chamado N\xba ${null==e?void 0:e.idChamado} marcado como ${(null==e?void 0:e.bFoiTratado)?"TRATADO":"N\xc3O TRATADO"}`,"",{status:"success"}):this.serviceSticker.show(`Chamado N\xba ${null==e?void 0:e.idChamado} com erro na marca\xe7\xe3o de tratamento`,"",{status:"danger",duration:5e3})},t=>this.serviceSticker.show(`Chamado N\xba ${null==e?void 0:e.idChamado} com erro na marca\xe7\xe3o de tratamento: ${JSON.stringify(t,null,0)}`,"",{status:"danger",duration:5e3}))}positionTratado(e,t){this.listaFisicaChamados[e].bFoiTratado=t}ngOnInit(){}openAtender(e){d("https://atender.caixa/siouv/jsp/login/DetalharOcorrencia.do",{sequencialOcorrencia:e,method:"iniciarDetalhamentoEnviadas",perfilUsuario:"gestor",escopo:"I",sequencialTipoOcorrencia:"2",situacao:"Enviada",sequencialFase:"2",gravaHistorico:"S",paginaVoltar:"ListaOcorrenciasResponder",ordenacaoOuvidoria:"3",ordenacaoSac:"3",ordenacaoInterna:"3",tipoOrdenacaoOuvidoria:"DESC",tipoOrdenacaoSac:"DESC",tipoOrdenacaoInterna:"DESC"})}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](u),c["\u0275\u0275directiveInject"](v),c["\u0275\u0275directiveInject"](g.K),c["\u0275\u0275directiveInject"](x),c["\u0275\u0275directiveInject"](o.quB))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-atendimento"]],viewQuery:function(e,t){if(1&e&&c["\u0275\u0275viewQuery"](z,5),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.dialog=e.first)}},hostBindings:function(e,t){1&e&&c["\u0275\u0275listener"]("keydown",function(e){return t.handleKeyboardEvent(e)},!1,c["\u0275\u0275resolveDocument"])},decls:125,vars:30,consts:[[1,"row"],[1,"col-md-12"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-body"],[1,"col-3","col-md-2"],[1,"icon-big","text-center","icon-warning"],[1,"fas","fa-users","fa-3x","blue"],[1,"col-9","col-md-10"],[1,"numbers"],[1,"card-category"],[1,"card-title"],[1,"numero-grande"],[1,"fas","fa-list-ul","fa-3x","blue"],[1,"fas","fa-exclamation","fa-3x","red"],[1,"far","fa-clock","fa-3x","red"],["class","col-lg-2 col-md-3 col-sm-4 margin-2-bt",4,"ngFor","ngForOf"],["placeholder","Atendente",1,"select-atendente",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["nbButton","",3,"click"],[1,"fas","fa-sync"],[1,"float-right"],[1,"table"],[1,"row-title"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"chamado","position","listaChamados","callbackMark"],["diag",""],[1,"col-lg-2","col-md-3","col-sm-4","margin-2-bt"],["size","large","badgeStatus","success","badgePosition","bottom right",3,"name","title","badgeText","picture"],[3,"value"],[3,"ngClass"],["scope","row",3,"click"],["class","no-wrap",4,"ngIf"],[4,"ngIf"],["scope","row"],["status","primary",3,"ngModel","ngModelChange"],["scope","row",1,"no-wrap",3,"click"],["scope","row",3,"ngClass","click"],[1,"no-wrap"],[1,"fas","fa-external-link-alt"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",0),c["\u0275\u0275elementStart"](3,"div",2),c["\u0275\u0275elementStart"](4,"div",3),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"div",0),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"div",6),c["\u0275\u0275element"](9,"i",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",8),c["\u0275\u0275elementStart"](11,"div",9),c["\u0275\u0275elementStart"](12,"p",10),c["\u0275\u0275text"](13,"Atendentes"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"p",11),c["\u0275\u0275elementStart"](15,"b",12),c["\u0275\u0275text"](16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",2),c["\u0275\u0275elementStart"](19,"div",3),c["\u0275\u0275elementStart"](20,"div",4),c["\u0275\u0275elementStart"](21,"div",0),c["\u0275\u0275elementStart"](22,"div",5),c["\u0275\u0275elementStart"](23,"div",6),c["\u0275\u0275element"](24,"i",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"div",8),c["\u0275\u0275elementStart"](26,"div",9),c["\u0275\u0275elementStart"](27,"p",10),c["\u0275\u0275text"](28,"Chamados"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"p",11),c["\u0275\u0275elementStart"](30,"b",12),c["\u0275\u0275text"](31),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](32),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",2),c["\u0275\u0275elementStart"](34,"div",3),c["\u0275\u0275elementStart"](35,"div",4),c["\u0275\u0275elementStart"](36,"div",0),c["\u0275\u0275elementStart"](37,"div",5),c["\u0275\u0275elementStart"](38,"div",6),c["\u0275\u0275element"](39,"i",14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"div",8),c["\u0275\u0275elementStart"](41,"div",9),c["\u0275\u0275elementStart"](42,"p",10),c["\u0275\u0275text"](43,"Ouvidorias"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"p",11),c["\u0275\u0275elementStart"](45,"b",12),c["\u0275\u0275text"](46),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](47),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"div",2),c["\u0275\u0275elementStart"](49,"div",3),c["\u0275\u0275elementStart"](50,"div",4),c["\u0275\u0275elementStart"](51,"div",0),c["\u0275\u0275elementStart"](52,"div",5),c["\u0275\u0275elementStart"](53,"div",6),c["\u0275\u0275element"](54,"i",15),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](55,"div",8),c["\u0275\u0275elementStart"](56,"div",9),c["\u0275\u0275elementStart"](57,"p",10),c["\u0275\u0275text"](58,"Vencido/Vencer"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](59,"p",11),c["\u0275\u0275elementStart"](60,"b",12),c["\u0275\u0275text"](61),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](62),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](63,"nb-card"),c["\u0275\u0275elementStart"](64,"nb-card-header"),c["\u0275\u0275text"](65,"Resumo por atendente"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](66,"nb-card-body"),c["\u0275\u0275elementStart"](67,"div",0),c["\u0275\u0275template"](68,j,2,5,"div",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](69,"nb-card"),c["\u0275\u0275elementStart"](70,"nb-card-header"),c["\u0275\u0275text"](71," Chamados - Atendente: "),c["\u0275\u0275elementStart"](72,"nb-select",17),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.onChange(e)}),c["\u0275\u0275template"](73,L,2,2,"nb-option",18),c["\u0275\u0275pipe"](74,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](75," \xa0\xa0"),c["\u0275\u0275elementStart"](76,"button",19),c["\u0275\u0275listener"]("click",function(){return t.syncList()}),c["\u0275\u0275element"](77,"i",20),c["\u0275\u0275text"](78,"\xa0Atualizar"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](79,"nb-card-body"),c["\u0275\u0275elementStart"](80,"div",21),c["\u0275\u0275text"](81,"Atualizado at\xe9 "),c["\u0275\u0275elementStart"](82,"b"),c["\u0275\u0275text"](83),c["\u0275\u0275pipe"](84,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](85,"table",22),c["\u0275\u0275elementStart"](86,"thead",23),c["\u0275\u0275elementStart"](87,"tr"),c["\u0275\u0275elementStart"](88,"td",24),c["\u0275\u0275text"](89,"Numero"),c["\u0275\u0275element"](90,"br"),c["\u0275\u0275text"](91,"Ocorr\xeancia"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](92,"td",24),c["\u0275\u0275text"](93,"Trat."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](94,"td",24),c["\u0275\u0275text"](95,"Sistema"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](96,"td",24),c["\u0275\u0275text"](97,"CPF"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](98,"td",24),c["\u0275\u0275text"](99,"Cliente"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](100,"td",24),c["\u0275\u0275text"](101,"Abertura"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](102,"td",24),c["\u0275\u0275text"](103,"Vencimento"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](104,"td",24),c["\u0275\u0275text"](105,"Prazo"),c["\u0275\u0275element"](106,"br"),c["\u0275\u0275text"](107,"Transf."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](108,"td",24),c["\u0275\u0275text"](109,"Situa\xe7\xe3o"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](110,"td",24),c["\u0275\u0275text"](111,"A\xe7\xe3o"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](112,"td",24),c["\u0275\u0275text"](113,"Categoriza\xe7\xe3o"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](114,"td",24),c["\u0275\u0275text"](115,"Atendente"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](116,"tbody"),c["\u0275\u0275template"](117,K,29,29,"tr",25),c["\u0275\u0275pipe"](118,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](119,"nb-card-footer"),c["\u0275\u0275text"](120," Footer "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](121,"ngx-dialog-chamado",26,27),c["\u0275\u0275pipe"](123,"async"),c["\u0275\u0275pipe"](124,"async")),2&e&&(c["\u0275\u0275advance"](16),c["\u0275\u0275textInterpolate"](null==t.estatisticas?null:t.estatisticas.Atendentes),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate2"](" | ",null==t.estatisticas?null:t.estatisticas.ChamadosAtribuidos," atribu\xeddos / ",null==t.estatisticas?null:t.estatisticas.TotalChamadosServicos," n\xe3o atribu\xeddos "),c["\u0275\u0275advance"](14),c["\u0275\u0275textInterpolate"](null==t.estatisticas?null:t.estatisticas.TotalChamados),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate2"](" | ",null==t.estatisticas?null:t.estatisticas.TotalChamadosAtender," atender / ",null==t.estatisticas?null:t.estatisticas.TotalChamadosServicos," WO servi\xe7o "),c["\u0275\u0275advance"](14),c["\u0275\u0275textInterpolate"](null==t.estatisticas?null:t.estatisticas.Ouvidorias),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" | ",null==t.estatisticas?null:t.estatisticas.OuvidoriasVencendo," ouvidorias vencendo "),c["\u0275\u0275advance"](14),c["\u0275\u0275textInterpolate"](null==t.estatisticas?null:t.estatisticas.ChamadosVencidosOuVencendo),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" | ",null==t.estatisticas?null:t.estatisticas.ChamadosUltimoDiaTransferir," que podem transferir hoje "),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngForOf",t.estatisticasAtendentes),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",t.apelidoAtendente),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind1"](74,19,t.atendentes)),c["\u0275\u0275advance"](10),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](84,21,null==t.parametros?null:t.parametros.dDataHoraAtualizacao,"dd/LL/yyyy HH:mm")),c["\u0275\u0275advance"](34),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind1"](118,24,t.chamados)),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("chamado",c["\u0275\u0275pipeBind1"](123,26,t.chamadoAtual))("position",t.posicao)("listaChamados",c["\u0275\u0275pipeBind1"](124,28,t.chamados))("callbackMark",t.positionTratado))},directives:[o.Asz,o.ndF,o.yKW,a.sg,o.rs,l.JJ,l.On,o.DPz,o.XWE,U,o.k0$,o.q51,a.mk,a.O5,o.NTf],pipes:[a.Ov,a.uU],styles:[".select-atendente[_ngcontent-%COMP%]{width:12em}.no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.row-red[_ngcontent-%COMP%]{background-color:red;color:#ff0}.row-blue[_ngcontent-%COMP%]{background-color:blue;color:#fff}.row-green[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.row-title[_ngcontent-%COMP%]{background-color:#000;color:#fff}.cell-nao-transferir[_ngcontent-%COMP%]{background-color:gold;color:#000;font-weight:700}.cell-ultimo-dia-transferir[_ngcontent-%COMP%]{background-color:#ff0;color:#000;font-weight:700}.hand[_ngcontent-%COMP%]{cursor:pointer}.numero-grande[_ngcontent-%COMP%]{font-size:3em}.card-category[_ngcontent-%COMP%]{font-size:2em}.row[_ngcontent-%COMP%]{margin-bottom:1em}.red[_ngcontent-%COMP%]{color:red}.blue[_ngcontent-%COMP%]{color:blue}.margin-2-bt[_ngcontent-%COMP%]{margin-bottom:1em}.user-name[_nghost-%COMP%], .user-name   [_nghost-%COMP%]{font-weight:700}"]}),e})();class Q{constructor(){this.TotalChamados=0,this.TotalChamadosAtender=0,this.TotalChamadosServicos=0,this.Ouvidorias=0,this.OuvidoriasVencendo=0,this.ChamadosVencidosOuVencendo=0,this.ChamadosUltimoDiaTransferir=0,this.ChamadosNaoTransferir=0,this.ChamadosAtribuidos=0,this.ChamadosNaoAtribuidos=0,this.Atendentes=0}}class W{constructor(){this.Apelido="",this.Matricula="",this.UrlAvatar="",this.Ouvidorias=0,this.Chamados=0,this.Total=0}}const X=[{path:"",component:G}];let Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[i.Bz.forChild(X)],i.Bz]}),e})();const Z={duration:1500,position:o.d6C.BOTTOM_END,destroyByClick:!0,preventDuplicates:!0,status:"success"};let ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({imports:[[a.ez,Y,l.u5,o.zyh,o.CG_,o.IIj,o.nKr,o.T2N,o.MfT,o.MfT,o.AE1,o.LW9.forRoot(Z)]]}),e})()}}]);